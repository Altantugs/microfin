{% extends 'base.html.twig' %}
{% block title %}Excel Upload{% endblock %}

{% block body %}
  <h1>üìä –ë–∞–Ω–∫–Ω—ã —Ö—É—É–ª–≥–∞ Excel upload</h1>

  {# Flash –º–µ—Å—Å–µ–∂“Ø“Ø–¥ #}
  {% for label, messages in app.flashes %}
    {% for msg in messages %}
      <div class="flash-{{ label }}">{{ msg }}</div>
    {% endfor %}
  {% endfor %}

  {# === –¢–∞–Ω—ã –±–∞–π—Å–∞–Ω –º–∞—è–≥—Ç (checkbox —Ö—ç–≤—ç—ç—Ä “Ø–ª–¥—Å—ç–Ω) === #}
  <form method="post" enctype="multipart/form-data" style="border:1px solid #ddd;padding:12px;margin-bottom:16px">
    <div style="margin-bottom:12px">
      <input type="file" name="excel" accept=".xlsx,.xls,.csv" required>
    </div>

    <button type="submit">Upload</button>

    <label style="display:block;margin:8px 0;">
      <input type="checkbox" name="clear" value="1">
      ”®–º–Ω”©—Ö –±–∏—á–ª—ç–≥“Ø“Ø–¥–∏–π–≥ —É—Å—Ç–≥–∞–∞–¥ —à–∏–Ω—ç—ç—Ä –∏–º–ø–æ—Ä—Ç–ª–æ—Ö
    </label>
  </form>

  {# === –ù—ç–º—ç–ª—Ç: –ë–∞–Ω–∫–Ω—ã —Ö—É—É–ª–≥–∞ —Ö—ç–ª–±—ç—Ä–∏–π–Ω –∂–∏—à—ç—ç –±–∞ –∑–∞–∞–≤–∞—Ä (UI —Ö–∞—Ä–∞–≥–¥–∞—Ü) === #}
  <div style="display:flex;gap:24px;align-items:flex-start;flex-wrap:wrap;margin-bottom:16px">
    <div style="flex:1;min-width:320px">
      <h3 style="margin:8px 0">–•–∞—Ä–∞–≥–¥–∞—Ö —Ö—ç–ª–±—ç—Ä (Bank statement)</h3>
      <table border="1" cellpadding="6" cellspacing="0" style="border-collapse:collapse;width:100%;margin-bottom:8px">
        <thead>
          <tr>
            <th>–û–≥–Ω–æ–æ</th>
            <th>–ì“Ø–π–ª–≥—ç—ç–Ω–∏–π —É—Ç–≥–∞</th>
            <th>–î“Ø–Ω</th>
            <th>–û—Ä–ª–æ–≥–æ</th>
            <th>–ó–∞—Ä–ª–∞–≥–∞</th>
            <th>“Æ–ª–¥—ç–≥–¥—ç–ª</th>
            <th>–¢”©—Ä”©–ª</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>2025-09-01</td>
            <td>–≠—Ö–Ω–∏–π “Ø–ª–¥—ç–≥–¥—ç–ª</td>
            <td>1,000,000.00</td>
            <td>1,000,000.00</td>
            <td></td>
            <td>1,000,000.00</td>
            <td>Opening</td>
          </tr>
          <tr>
            <td>2025-09-02</td>
            <td>–û—Ñ—Ñ–∏—Å—ã–Ω —Ö—ç—Ä—ç–≥—Å—ç–ª</td>
            <td>-25,000.00</td>
            <td></td>
            <td>25,000.00</td>
            <td>975,000.00</td>
            <td>Office</td>
          </tr>
        </tbody>
      </table>
      <p style="font-size:13px;color:#666;margin:0">
        –î—ç—ç—Ä—Ö –Ω—å **—Ö–∞—Ä–∞–≥–¥–∞—Ü**. –ò–º–ø–æ—Ä—Ç—ã–Ω —Ñ–æ—Ä–º–∞—Ç –¥–æ–æ—Ä—Ö –∑–∞–∞–≤—Ä–∞–∞—Ä (–æ–¥–æ–æ–≥–∏–π–Ω —Ç–æ–ª–≥–æ–π–≥–æ–æ—Ä) —è–≤–∂ –±–∞–π–≥–∞–∞ ‚Äî
        –¥–∞—Ä–∞–∞–≥–∏–π–Ω –∞–ª—Ö–∞–º–¥ ‚Äú–û—Ä–ª–æ–≥–æ/–ó–∞—Ä–ª–∞–≥–∞/“Æ–ª–¥—ç–≥–¥—ç–ª‚Äù-—Ç—ç–π —Ç–æ–ª–≥–æ–π–≥ —à—É—É–¥ —É–Ω—à–∏—Ö –±–æ–ª–æ–º–∂–∏–π–≥ –∏–º–ø–æ—Ä—Ç–æ–¥
        –Ω—ç–º–∂ ”©–≥–Ω”©.
      </p>
    </div>

    <div style="flex:1;min-width:320px">
      <h3 style="margin:8px 0">–û–¥–æ–æ–≥–æ–æ—Ä —Ç–∞–Ω—å–∂ –±—É–π —Ç–æ–ª–≥–æ–π (–∏–º–ø–æ—Ä—Ç—ã–Ω —Ñ–æ—Ä–º–∞—Ç)</h3>
      <ul style="margin-top:0">
        <li><b>–û–≥–Ω–æ–æ</b> (—ç—Å–≤—ç–ª <code>date</code>)</li>
        <li><b>–¢–∞–π–ª–±–∞—Ä</b> (—ç—Å–≤—ç–ª <code>description</code>, <code>–≥“Ø–π–ª–≥—ç—ç</code>, <code>—É—Ç–≥–∞</code>)</li>
        <li><b>–î“Ø–Ω</b> (—ç—Å–≤—ç–ª <code>amount</code>, <code>–¥“Ø–Ω</code>, <code>–¥v–Ω</code>)</li>
        <li><b>–ß–∏–≥–ª—ç–ª</b> (—Å–æ–Ω–≥–æ–ª—Ç—Ç–æ–π; <code>direction</code>, <code>—á–∏–≥–ª—ç–ª</code> ‚Äî <code>IN/OUT</code> –¥—ç–º–∂–∏–Ω—ç)</li>
        <li><b>–ê–Ω–≥–∏–ª–∞–ª</b> (—Å–æ–Ω–≥–æ–ª—Ç—Ç–æ–π; <code>category</code>, <code>–∑–æ—Ä–∏—É–ª–∞–ª—Ç</code>, <code>–∞–Ω–≥–∏–ª–∞–ª</code>)</li>
        <li><b>–í–∞–ª—é—Ç</b> (—Å–æ–Ω–≥–æ–ª—Ç—Ç–æ–π; <code>currency</code>, <code>–≤–∞–ª—é—Ç</code>; default: MNT)</li>
      </ul>

      <p style="margin:8px 0">–ñ–∏—à—ç—ç CSV:</p>
<pre style="white-space:pre-wrap;border:1px solid #eee;padding:8px;background:#fafafa">
–û–≥–Ω–æ–æ,–¢–∞–π–ª–±–∞—Ä,–î“Ø–Ω,–ß–∏–≥–ª—ç–ª,–ê–Ω–≥–∏–ª–∞–ª,–í–∞–ª—é—Ç
2025-09-01,–≠—Ö–Ω–∏–π “Ø–ª–¥—ç–≥–¥—ç–ª,1000000,IN,Opening,MNT
2025-09-02,–û—Ñ—Ñ–∏—Å—ã–Ω —Ö—ç—Ä—ç–≥—Å—ç–ª,25000,OUT,Office,MNT
2025-09-03,–ö–æ—Ñ–µ –±–æ—Ä–ª—É—É–ª–∞–ª—Ç,85000,IN,Sales,MNT
</pre>
      <p style="font-size:13px;color:#666;margin:0">
        * –•—ç—Ä—ç–≤ <b>–ß–∏–≥–ª—ç–ª</b> –±–∞–π—Ö–≥“Ø–π –±–æ–ª –∑–∞—Ä–ª–∞–≥—ã–≥ <code>-25000</code> –≥—ç—Ö –º—ç—Ç **—É—Ä–¥ —Ç–∞–ª—ã–Ω -** —Ç—ç–º–¥—ç–≥—Ç—ç–π –±–∏—á.
      </p>
    </div>
  </div>

  <details>
    <summary><b>–¢”©–ª”©–≤–ª”©–≥”©”©: –ë–∞–Ω–∫–Ω—ã —Ö—É—É–ª–≥–∞ —Ç–æ–ª–≥–æ–π–≥ —à—É—É–¥ –¥—ç–º–∂–∏—Ö</b></summary>
    <p style="margin:8px 0">
      –î–∞—Ä–∞–∞–≥–∏–π–Ω –∞–ª—Ö–º–∞–∞—Ä –∏–º–ø–æ—Ä—Ç—ã–Ω —Å–µ—Ä–≤–∏—Å–∏–π–≥ –¥–∞—Ä–∞–∞—Ö —Ç–æ–ª–≥–æ–π–≥ —à—É—É–¥ —É–Ω—à–¥–∞–≥ –±–æ–ª–≥–æ–Ω–æ:
      <code>–û–≥–Ω–æ–æ, –ì“Ø–π–ª–≥—ç—ç–Ω–∏–π —É—Ç–≥–∞, –î“Ø–Ω, –û—Ä–ª–æ–≥–æ, –ó–∞—Ä–ª–∞–≥–∞, “Æ–ª–¥—ç–≥–¥—ç–ª, –¢”©—Ä”©–ª</code>.
      (–û—Ä–ª–æ–≥–æ/–ó–∞—Ä–ª–∞–≥—ã–Ω –∞–ª—å –Ω—ç–≥ –Ω—å –±”©–≥–ª”©–≥–¥–≤”©–ª —á–∏–≥–ª—ç–ª–∏–π–≥ —Ç–æ–≥—Ç–æ–æ–Ω–æ; “Æ–ª–¥—ç–≥–¥—ç–ª –Ω—å —Å–æ–Ω–≥–æ–ª—Ç—Ç–æ–π.)
    </p>
  </details>
{% endblock %}
