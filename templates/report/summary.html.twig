{% extends 'base.html.twig' %}

{% block title %}Report{% endblock %}

{% block body %}
  <h1>Санхүүгийн товч тайлан</h1>

  <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin:16px 0;">
    <div style="border:1px solid #ddd;padding:12px;border-left:4px solid #22c55e;">
      <div>Орлого</div>
      <div style="font-size:20px;font-weight:700;">{{ income|number_format(0, '.', ',') }} ₮</div>
    </div>
    <div style="border:1px solid #ddd;padding:12px;border-left:4px solid #ef4444;">
      <div>Зарлага</div>
      <div style="font-size:20px;font-weight:700;">{{ expense|number_format(0, '.', ',') }} ₮</div>
    </div>
    <div style="border:1px solid #ddd;padding:12px;border-left:4px solid #3b82f6;">
      <div>Үлдэгдэл</div>
      <div style="font-size:20px;font-weight:700;">{{ balance|number_format(0, '.', ',') }} ₮</div>
    </div>
  </div>

  <h2>Сүүлийн 10 гүйлгээ</h2>
  <table border="1" cellspacing="0" cellpadding="6">
    <thead>
      <tr>
        <th>Огноо</th>
        <th>Тайлбар</th>
        <th>Дүн</th>
        <th>Чиглэл</th>
        <th>Ангилал</th>
        <th>Валют</th>
      </tr>
    </thead>
    <tbody>
      {% for t in latest %}
        <tr>
          <td>{{ t.date|date('Y-m-d') }}</td>
          <td>{{ t.description }}</td>
          <td style="text-align:right;">{{ t.amount|number_format(2, '.', ',') }}</td>
          <td>{{ t.isIncome ? 'IN' : 'OUT' }}</td>
          <td>{{ t.category ?? '' }}</td>
          <td>{{ t.currency ?? 'MNT' }}</td>
        </tr>
      {% else %}
        <tr><td colspan="6">Мэдээлэл алга.</td></tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}
